# devops-netology
Здравствуйте, Фкирдымов Тимур, работа 5.1.

**1. Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.**

Полная виртуализация – гипервизор ставится сразу на сервер (железо), имеет прямой доступ к аппаратным средствам. Плюсы – не надо никаких прослоек в виде установки ОС, быстродействие, при наличии совместимого оборудования – быстрая развертка. Минусы, по моему мнению – высокие требования по совместимости оборудования, если оно не в списке, требуется ручная интеграция или замена (как пример из опыта – необходимость железного raid для ESXi, проблемы с простыми сетевыми контроллерами).

Паравиртуализация – сначала на сервер ставится ОС, потом на ОС устанавливается гипервизор и работает как служба.  
Плюсы – простая установка, поддержка железа зависит от наличия драйверов для ОС.  
Минусы – разделение ресурсов с ОС, в случае ошибок в ОС возможны проблемы в работе гипервизора.

Виртуализация на уровне ОС – нет прослойки в виде гипервизора между ОС и виртуальными машинами, ресурсы для виртуальных машин распределяет сама ОС.  
Плюсы – работа напрямую с железом и высокая производительность. Высокая плотность.  
Минусы – ограничение использования ОС от хостовой.


**2. Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.**

	Высоконагруженная база данных, чувствительная к отказу – основная нагрузка в данном варианте приходится на жесткие (ssd) диски. Поэтому основным моментом, я бы отметил использование хорошего raid контроллера с правильно выбранным уровнем Raid, а также быстрых и надежных 	дисков. Это обеспечит нам и скорость и надежность. При таком варианте честного говоря выбрал бы полную виртуализацию. Т.к. такого варианта нет, то выберу всетаки физическую машину.  
	Различные web-приложения – считаю оптимальным вариантом виртуализацию на уровне ОС, за счёт	своей масштабируемости и хорошей плотности, хорошим распределением ресурсов.  
	Windows системы для использования бухгалтерским отделом - точно паравиртуализация на Hyper-V,если есть деньги на лицензии. По опыту беспроблемная связка с хорошей поддержкой, если конечно не огромный масштаб.  
	Системы, выполняющие высокопроизводительные расчеты на GPU – с этим направлением не знаком, из того, что прочел – если используются GPU nVidia, то наверное виртуализация на уровне ОС, с помощью обычных или nVidia NGC контейнеров, с оптимизированными версиями различного софта, библиотек и драйверов

**3. Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.**

***a) 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.***  
Паравиртуализация с Hyper-V. Оптимальная работа с Windows машинам (репликация, миграция, бэкапы через Veeam или похожего), есть поддержка основных дистрибьютивов Linux. Масштабируемость Hyper-V позволяет запустить 100 машин.

***b) Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.***
По ТЗ, выбрал бы Xen, после прослушанной лекции. За счёт универсальности, стабильности и поддержки Windows и open source. Как вариант, рассмотрел бы VmWare Esxi, под ТЗ подходит, вопрос только с бэкапами, это будет ясно после понимания, для чего будут использоваться VM.

***c) Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.***
Честно говоря, «бесплатно» и «Windows инфраструктура» не совсем понятно, как сочетаются :)  
Если мы рассматриваем, что лицензии у нас куплены каким-то чудным образом, то наверное Hyper-V в варианте полной виртуализации (можно использовать бесплатно). Подходит под вводное ТЗ по всем параметрам.

***d) Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.***
Выбрал бы VirtualBox, возможно с Vagrant для быстрой развертки, если хост Windows.  
Выбрал бы KVM, если хост Linux.  
Оба обеспечивают поддержку разнообразных систем и удобны в использовании.


**4. Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.**
	
	Недостатки:  
	- вероятная невозможность автоматизировать процессы одинаково для разных систем  
	- определенные требования для оборудования под разные версии сред виртуализации  
	- отсутствие возможности мгновенного переключения в случае отказов или необходимость держать всё в двойном объеме для реализации этой функции  
	- необходимость в разнообразном ПО для работы с разными средами  
	- необходимость в дополнительных затратах, если это два разных коммерческих продукта (нет скидок, как при покупке одного продукта в большем количестве)   
	- необходимость поддержки двух разных систем, что требует профильных специалистов для разных систем или содержание большего числа сотрудников.  
	Как минимизировать:  
	- на этапе планирования проанализировать, какие ОС необходимы для текущих и будущих задач, попытаться выбрать одно универсальное решение из систем виртуализации (если это возможно)   
	- если не получается использовать универсальное решение, то выбирать ПО для обслуживания и автоматизации с учетом поддержки используемых систем виртуализации  
	- также выбирать железо, совместимое с обоими виртуальными системами, в случай возможной миграции на одну из них  
	-  нанимать сотрудников с большим опытом работы в обеих системах  
	Если бы был выбор, я конечно бы использовал одну систему виртуализации, таким образом упростив настройку, обслуживание и автоматизацию. При этом увеличив отказоустойчивость. Сократил бы затраты (или пустил бы эти средства на улучшение). Но это в текущих реалиях и динамично меняющихся задачах это вряд ли возможно.
